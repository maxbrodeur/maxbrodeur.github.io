<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./stylesheet.css">
        <link rel="stylesheet" id="main-style" href="./stylesheet_desktop.css">
        <link rel="stylesheet" href="./homestyle.css">
        <link rel="stylesheet" href="./timeline.css">
        <title>Max Brodeur</title>
    </head>
    <body>
        
        <div class="menu_section">
            <div class="menu home_menu">
                <!-- <div class="title_wrap">
                    <h1 class="typewriter pagetitle" id="typewriter" text="Hi, I'm Max Brodeur.">>> </h1>
                </div> -->
                <div class="menu_items home_menu_items">
                    <p class="projects_link">
                        <a class="link" href="https://github.com/maxbrodeur"> GitHub </a>
                    </p>
                    <!-- <p class="projects_link">
                        <a class="link" href="#about"> About </a>
                    </p> -->
                    <p class="projects_link">
                        <a class="link" href="#sections"> Projects </a>
                    </p>
                    <p class="projects_link">
                        <a class="link" href="#timeline"> Timeline </a>
                    </p>
                </div>
            </div>
        </div>
        
        <script> 

        // CONSTANTS
        const BLINK_SPEED = 400
        const TYPE_SPEED = 80
        const COMMA_BLINKS = 0
        const HOVER_DELAY = 0
        const OPACITY = 0.30
        const MAX_OPACITY = 1.00
        const MID_OPACITY = 0.40
        const LINK_COLOR = "white"   
        const SECTION_COLOR = "rgb(85, 85, 85)"

        
        var paths = [
            "./assets/rolling.jpg",
            "./assets/untangle.jpg",
            "./assets/castle_view_vehicle.jpg",
            "./assets/mapleleaf.jpg",
            "./assets/massif_sunset.jpg",
            "./assets/wordle.jpg",
            "./assets/piano.jpg",
            "./assets/game-of-life.jpg"
        ]
        
        var section_image_list_init = document.getElementsByClassName("section_image")

        var section_images_list_init = document.getElementsByClassName("section_images")
        for (let i = 0; i < section_images_list_init.length; i++) {
            const section_images_init = section_images_list_init[i];
            section_images_init.setAttribute("loaded",0)
        }
        
        // This function is called before the typewriter starts typing
        // Not typewriter anymore, now just load task
        // It is used to initialize the page
        var before_task = function() {

            // add sources
            for (let i = 0; i<paths.length; ++i){
                let c = section_image_list_init[i]
                c.setAttribute("src", paths[i])
                c.style.display = "block"
                c.onload = function() {
                    this.style.opacity = MAX_OPACITY
                }
            }

            for (let i = 0; i < section_images_list_init.length; i++) {
                const section_images_init = section_images_list_init[i];
                section_images_init.setAttribute("loaded",1)
                if (section_images_init.getAttribute("mouse") === "in"){
                    section_images_init.onmouseover()
                }
            }

            var link_wrap_list_init = document.getElementsByClassName("link_wrap")
            for (let i = 0; i < link_wrap_list_init.length; i++) {
                var link_wrap_init = link_wrap_list_init[i]
                if (link_wrap_init.getAttribute("mouse")!=="in"){
                    link_wrap_list_init[i].setAttribute("mouse", "out");
                }

            }

            var sections = document.getElementsByClassName("sections")[0]
            sections.style.opacity = 1;
            var sections = document.getElementsByClassName("section")
            

            // LISTENERS
            for (let i = 0; i < sections.length; i++) {
                const section = sections[i];
                var link_wrap = section.children[0]
                var link = link_wrap.children[0]
                var imgs = section.children[1]

                // SECTION LINK
                link.onmouseover = function() {
                    var imgs = this.parentElement.parentElement.parentElement.children[1]
                    if (imgs.getAttribute("loaded")==1) {
                        imgs.style.opacity = MID_OPACITY 
                        this.style.color = LINK_COLOR;
                    }
                    this.style.textDecoration = "underline";
                    
                }
                link.onmouseout= function() {
                    this.style.textDecoration = ''
                }

                // SECTION IMAGES
                imgs.style.opacity = OPACITY;

                imgs.onmouseover = function() {
                    this.setAttribute("mouse", "in")
                    if (this.getAttribute("loaded")==1){
                        this.style.opacity = MAX_OPACITY
                        this.parentElement.children[0].children[0].children[0].style.color = "white"
                        // this.parentElement.children[0].style.border = "2px solid transparent"
                    }
                }
                imgs.onmouseout = function() {
                    this.setAttribute("mouse","out")
                    setTimeout(function(link, imgs_var){
                        var link_wrap = imgs_var.parentElement.children[0]
                        if (link_wrap.getAttribute("mouse")==="out" && link_wrap.children[0].style.textDecoration === '' && imgs_var.getAttribute("mouse")==="out"){
                            link_wrap.children[0].children[0].style.color = SECTION_COLOR
                            imgs_var.style.opacity = OPACITY
                            // link_wrap.style.border = "2px solid white"
                        }                   
                    }, HOVER_DELAY, this.parentElement.children[0].children[0], this)
                }

                // LINK WRAP
                link_wrap.onmouseover = function() {
                    this.setAttribute("mouse", "in")
                    this.parentElement.children[1].onmouseover()
                }
                link_wrap.onmouseout = function() {
                    this.setAttribute("mouse", "out")
                }
            }
        }
                    
        var comma_task = function() {}
        
        var after_task = function() {}
        
        window.addEventListener('scroll', function() {
            var arrow = document.querySelector('.arrow-down');
            if (window.scrollY > 50) { // Adjust scroll threshold as needed
                arrow.style.opacity = '0'; // Fade out the arrow
            } else {
                arrow.style.opacity = '1'; // Restore visibility if user scrolls back up
            }
        });

        </script>

        <script type="text/javascript" src="./assets/load.js"></script>

        <!-- ABOUT -->
        <div class="about_section" id="about">
            <div class="about_content">
                <div class="about_text">
                    <!-- <div class="about_title">
                        <h2 class="about_title_text" >About me.</h2>
                    </div> -->
                    <p class="about_text_text"> 
                        Hey there! 
                    </p>
                    <p class="about_text_text"> 
                        I'm from Montr&eacute;al, Qu&eacute;bec, but now living in Lausanne, Switzerland where I'm pursuing a Master's degree in Computational Science & Engineering at EPFL. My interests mainly revolve around problems requiring mathematical insight and a sturdy algorithmic toolbox. I've recently been studying topics in NeuroAI, RL, and Knot Theory.
                    </p>
                </div>

                <div class="about_img_wrap">
                    <a href="https://www.youtube.com/watch?v=k-BBfhWLfAQ" class="about_img_container">
                        <img class="about_img0" src="./assets/maxbrodeur.jpg" alt="">
                    </a>
                    <p class="about_img_descr">Hiking in Zermatt, with a view on the Matterhorn.</p>
                </div>
            </div>
        </div>

        <div class="arrow-down"></div>

        <div class="projects_section" id="sections">

            <div class="sections">
                
                <div class="projects">
                    <!-- ROLLING KNOTS -->
                    <div class="section section3">
                        <div class="link_wrap">
                            <h2><a class="link link3 section_link section_title" href="./rolling/index.html">Smooth Rolling Knots</a></h2>
                        </div>
                        <div class="section_images" id="rolling_images">
                            <div class="img_wrap0">
                                <img src="" alt="" class="rolling_img section_image " onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                    <!-- KNOT UNTANGLING -->
                    <div class="section section3">
                        <div class="link_wrap">
                            <h2><a class="link link3 section_link section_title" href="./knots/index.html">Numerical Knot Untangling</a></h2>
                        </div>
                        <div class="section_images" id="untangle_images">
                            <div class="img_wrap0 rl_img_wrap">
                                <img src="" alt="" class="untangle_img0 section_image " onerror="this.style.display='none'">
                            </div>
                            <!-- <div class="img_wrap1">
                                <img src="" alt="" class="rl_img1 section_image" onerror="this.style.display='none'">
                            </div>
                            <div class="img_wrap2">
                                <img src="" alt="" class="rl_img2 section_image" onerror="this.style.display='none'">
                            </div> -->
                        </div>
                    </div>
                    <!-- RL -->
                    <div class="section section3">
                        <div class="link_wrap">
                            <h2><a class="link link3 section_link section_title" href="./rl/index.html">Reinforcement Learning</a></h2>
                        </div>
                        <div class="section_images" id="rl_images">
                            <div class="img_wrap0 rl_img_wrap">
                                <img src="" alt="" class="rl_img0 section_image " onerror="this.style.display='none'">
                            </div>
                            <!-- <div class="img_wrap1">
                                <img src="" alt="" class="rl_img1 section_image" onerror="this.style.display='none'">
                            </div>
                            <div class="img_wrap2">
                                <img src="" alt="" class="rl_img2 section_image" onerror="this.style.display='none'">
                            </div> -->
                        </div>
                    </div>
                    <!-- CHAOS -->
                    <div class="section section2">
                        <div class="link_wrap" id="chaos_link_wrap">
                            <h2><a class="link link2 section_link section_title" href="./fractals/index.html" id="chaos_link">Nonlinear Dynamics & Chaos</a></h2>
                        </div>
                        <div class="section_images" id="chaos_images">
                            <div class="img_wrap0 chaos_img_wrap">
                                <img src="" alt="" class="chaos_img0 section_image" onerror="this.style.display='none'">
                            </div>
                            <!-- <div class="img_wrap1">
                                <img src="" alt="" class="chaos_img1 section_image" onerror="this.style.display='none'">
                            </div>
                            <div class="img_wrap2">
                                <img src="" alt="" class="chaos_img2 section_image" onerror="this.style.display='none'">
                            </div> -->
                        </div> 
                    </div>
                    <!-- FILM -->
                    <div class="section section1" id="film_section">
                        <div class="link_wrap">
                            <h2><a class="link link1 section_link section_title" href="./photography/index.html" id="film_link">Film Photography</a></h2>
                        </div>
                        <div class="section_images" id="film_images">
                            <div class="img_wrap0 film_img_wrap">
                                <img src="" alt="" class="film_img0 section_image" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>

                    <!-- WORDLE -->
                    <div class="section section1" id="">
                        <div class="link_wrap">
                            <h2><a class="link link1 section_link section_title" href="./wordlebot/index.html" id="">Wordle Bot</a></h2>
                        </div>
                        <div class="section_images" id="">
                            <div class="img_wrap0 film_img_wrap">
                                <img src="" alt="" class="section_image wordle_img" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                    <!-- MUSIC -->
                    <div class="section section1" id="">
                        <div class="link_wrap">
                            <h2><a class="link link1 section_link section_title" href="./music/index.html" id="">Music</a></h2>
                        </div>
                        <div class="section_images" id="">
                            <div class="img_wrap0 film_img_wrap">
                                <img src="" alt="" class="section_image wordle_img" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>

                    <!-- GAME OF LIFE -->
                    <div class="section">
                        <div class="link_wrap">
                            <h2><a class="link link1 section_link section_title" href="https://maxbrodeur.github.io/game-of-life/">Game of Life</a></h2>
                        </div>
                        <div class="section_images">
                            <div class="img_wrap0">
                                <img src="" alt="" class="section_image" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TIMELINE -->
        <div class="timeline_section" id="timeline">
            <!-- <div class="timeline_title">
                <h2 class="timeline_title_text">Timeline.</h2>
            </div> -->
        </div>

        <!-- <script type="text/json" src="./timeline.json" id="timeline-data"></script> -->
        <script type="text/javascript" src="./timeline.js"></script>

    </body>
</html>