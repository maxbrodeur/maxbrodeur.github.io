<!DOCTYPE html>
<html>

    <head>
        <title>Fractals</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <link rel="stylesheet" href="../stylesheet.css">
        <link rel="stylesheet" href="./fractals.css">
    </head>

    <body>

        <div class="img_display_div" id="div0">
            <img class="fractal_img" class="img_display" id="img0">
            <div class="img_display_caption" id="cap0">
                <p class="title"></p>
                <p class="body"></p>
            </div>
        </div>
        
        <div class="menu">
            <div class="title_wrap">
                <h1 class="typewriter pagetitle" id="typewriter" text="Nonlinear Dynamics & Chaos.">>> </h1>
            </div>
            <div class="menu_items">
                <p class="menu_link">
                    <a class="link" href="https://fractal-generator.herokuapp.com/"> Fractal Generator </a>
                </p>
                <p class="menu_link">
                    <a class="link" href="https://github.com/maxbrodeur/fractal-generator"> Github </a>
                </p>
                <p class="menu_link">
                    <a class="link" href="../index.html"> Home </a>
                </p>
            </div>
        </div>

        <script> 
            // CONSTANTS
            var BLINK_SPEED = 400
            var TYPE_SPEED = 75
            var COMMA_BLINKS = 1

            var before_task = function() {

            }
            
            var comma_task = function() {
                
            }
            
            var after_task = function(){
            }
            
        </script>
    
        <script type="text/javascript" src="../assets/typewriter.js"></script>

        <div class="fractal_title">
            <h1>The Fractal Generator.</h1>
            <h3>By <a  href="https://github.com/theofabilous">Theo Fabi</a> & Max Brodeur</h3>
        </div>

        <div class="section">
            <div class="date">
                <p>December 2021</p>
            </div>
        </div>

        <div class="section">
            <div class="card">
                <div class="content">
                    <div class="section_title">
                        <h2>Overview</h2>
                    </div>
                    <div class="section_text">
                        <p>This research project was an optional part of the <i> MATH326 - Nonlinear Dynamics & Chaos </i> course offered by McGill during the Fall 2021 semester. </p>
                        <p> Built using Python, HTML and CSS, our <i>Fractal Generator</i> web application includes the following fractal generating functionalities:</p>
                        <ol>
                            <li> <b>Chaos Game:</b> Fractals such as the sierpinski triangle and the viscek square can be drawn using the chaos game feature. The user can choose the initial polygon, specify the compression ratio of each iteration, and incorporate extra rules to form a variety of attractors. The user can also select from a list of attractor presets which load the appropriate parameters for the attractor.</li>
                            <li> <b>General Iterated Function Systems:</b> The application incorporates the more general concept of iterated function systems (IFSs), with which even more complex fractals can be constructed, wherein the user specifies a list of possible transformation parameters and their relative weights. Presets for the dragon curve, the barnsley fern and other such shapes can be loaded and drawn.</li>
                            <li> <b>Chaotic Discrete Map generator:</b> The application has the feature to iteratively find 2D chaotic discrete maps. The details of this functionality will be discussed in detail in Section 3.</li>
                        </ol>

                        <p>Link to <a class="link" href="https://fractal-generator.herokuapp.com/">fractal generator web application</a></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="card">
                <div class="content">
                    <div class="section_title">
                        <h2>Iterated Function System & Chaos Game</h2>
                    </div>
                    <div class="section_text">
                        <p>An Iterated Function System (IFS) is a finite set of contractive functions which are applied iteratively on an initial point ad infinitum. At every iteration, one transformation among the set is chosen at random and applied to the previous point, yielding the next input for the next iteration. Often, these systems form self-similar fractals, as an arbitrary point at an arbitrary iteration is subject to the same conditions as any other point. In general, it is required that these transformations be contractive, otherwise solutions may be unbounded. However, the general requirement is that the entire system must be contractive on average. The chaos game is an example of an IFS. In brief, the classical version of the process consists of choosing a random point within an equilateral triangle and repeatedly applying the following procedure:</p>
                        <ol>
                            <li>Randomly choose one of the vertices of the triangle</li>
                            <li>Jump half-way from the previous point to the chosen vertex</li>
                            <li>Repeat with the newly drawn point The game can formally be defined as an IFS with the following three choices of transformations:

                                <ul>
                                    <li>\((x_{n+1}, y_{n+1})= (0.5\;x_n, 0.5 \;y_n)\)</li>
                                    <li>\((x_{n+1}, y_{n+1})= (0.5\;x_n + 0.5, 0.5 \;y_n)\)</li>
                                    <li>\((x_{n+1}, y_{n+1})= (0.5\;x_n, 0.5 \;y_n + 0.5)\)</li>
                                </ul>
                            </li>
        
     
                        </ol>

                        <p>After a suficient number of iterations of these transformations, and with initial conditions within the triangle, the Sierpinski right triangle is generated. This is a surprising result given that the transformations are chosen at random. The system consistently forms the same fractal attractor!</p>
                        
                        <div class = "fractal_images IFS_imgs">
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" class = "fractal_img" src="./assets/sierpinski_triangle.png" alt="">
                                <p class="fractal_img_txt">The sierpinski right triangle generated with our website.</p>
                            </div>
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" class = "fractal_img" src="./assets/IFS_dragon.png" alt="">
                                <p class="fractal_img_txt">The IFS Dragon generated with our website.</p>
                            </div>
                        </div>

                        <p>Other fractals can be constructed using this method.  Both the Chaos Game IFS abstraction and general IFS fractal generation features are incoporated in the website. Both of the above fractals can be generated using pre-loaded presets in our web application, along with many others.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="card">
                <div class="content">
                    <div class="section_title">
                        <h2>Automatic Generation of Discrete Chaotic Attractors</h2>
                    </div>
                    <div class="section_text">
                        <p>1D discrete maps can exhibit chaotic behaviour if their lyapunov exponent is positive. Similarly, 2D discrete maps, which have two lyapunov exponents (one for each dimension) exhibit chaotic behaviour if one of their lyapunov exponents is positive. Our website includes a feature which automatically finds quadratic and cubic chaotic 2D maps. When plotted, these systems often yield beautiful fractal shapes. Finding such maps consists of first generating a random map and calculating its lyapunov exponents. If one of them is positive and the map is bounded, it is chaotic. Otherwise, the process shall be repeated until the conditions are satisfied. The following pseudocode demonstrates the logic of the implemented algorithm:</p>

                        <div class="fractal_images">
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" src="./assets/algorithm_1.png" alt="">
                            </div>
                        </div>

                        <p>Similar to the <i>pull-back algorithm</i>, the above process is analoguous to the classical computation of the lyapunov exponents of a map. However, instead of computing \(\lambda\) in terms of a perturbation \(\delta\), it uses the tangent space map \(J(f)\) and displacement vectors \(v_1\) and \(v_2\). The displacement vectors are orthogonalized after each iteration so as to let each vector align with the corresponding eigendirections/lyapunov directions, and normalized so as to prevent huge computations. It must be noted that the lyapunov exponents are updated before the orthonormalization process. The process is almost identical for cubic maps, but more parameters must be generated.</p>
                        
                        <div class = "fractal_images TRANSF_imgs">
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" class = "fractal_img" src="./assets/silk.png" alt="">
                                <p class="fractal_img_txt">Silk</p>
                            </div>
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" class = "fractal_img" src="./assets/starfish.png" alt="">
                                <p class="fractal_img_txt">Starfish</p>
                            </div>
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" class = "fractal_img" src="./assets/wave_quasi-cycle.png" alt="">
                                <p class="fractal_img_txt">Wave quasi-cycle</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="card">
                <div class="content">
                    <div class="section_title">
                        <h2>Application Manual</h2>
                    </div>
                    <div class="section_text">
                        <p>Upon entering the website, the Chaos Game tab is visible. The following parameters are available for editing and manipulation:</p>

                        <div class="fractal_images">
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" src="./assets/parameters.png" alt="">
                                <p class="fractal_img_txt">Chaos Game parameters hotbar</p>
                            </div>
                        </div>

                        <ul>
                            <li><b>Presets:</b> A list of available attractors which, upon selection, load the appropriate parameters</li>
                            <li><b>Iterations:</b> The number of points to plot</li>
                            <li><b>Jump:</b> Compression ratio value (jump distance)</li>
                            <li><b>Polygon:</b> The number of vertices in the initial shape.</li>
                            <li><b>Length:</b> The number of previous vertex choices to keep track of for extra rules.</li>
                            <li><b>Offset:</b> The banned offset from the last chosen vertex when the last n chosen vertices are the same (where n = length)</li>
                            <li><b>Symmetry:</b> Wether or not the banned offset should be applied to both sides</li>
                            <li><b>Stack midpoints:</b> Wether or not the midpoints between each vertex can be jumped to</li>
                            <li><b>Stack center:</b> Wether or not the center of the initial polygon can be jumped to</li>
                            <li><b>Fast plotting:</b> Wether or not datashading is used for plotting (datashading is much faster, but has a fixed resolution, yielding a less interactive experience)</li>
                            <li><b>Auto update:</b> Wether or not the fractal should be redrawn when any of the parameters are changed</li>
                        </ul>
                        <div class="fractal_table">
                            <table>
                                <tr>
                                    <th>Rule Description</th>
                                    <th>Length</th>
                                    <th>Offset</th>
                                    <th>Symmetry</th>
                                </tr>
                                <tr>
                                    <td>The next vertex cannot be 1 vertex awayfrom the last vertex when the last 3 chosen vertices are equal</td>
                                    <td>3</td>
                                    <td>1</td>
                                    <td>True</td>
                                </tr>
                                <tr>
                                    <td>No extra rules</td>
                                    <td>0</td>
                                    <td>x</td>
                                    <td>x</td>
                                </tr>
                                <tr>
                                    <td>The next vertex cannot be 2 vertices</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Away (counterclockwise) as the last vertex</td>
                                    <td>1</td>
                                    <td>2</td>
                                    <td>False</td>
                                </tr>
                                <tr>
                                    <td>The next vertex can't be the same as the last vertex</td>
                                    <td>1</td>
                                    <td>0</td>
                                    <td>x</td>
                                </tr>
                            </table>
                        </div>
                        
                        <p>The user can also navigate to other sub-sections of our application by interacting with top right corner:</p>

                        <div class="fractal_images">
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" src="./assets/tabs.png" alt="">
                                <p class="fractal_img_txt">The website's tabs</p>
                            </div>
                        </div>

                        <p>By default, the Chaos Game tab is selected. If the Transformations tab is selected, the following options are visible when the Parameters dropdown section is activated:</p>

                        <div class="fractal_images">
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" src="./assets/transformations.png" alt="">
                                <p class="fractal_img_txt">Default Transformations tab parameters</p>
                            </div>
                        </div>

                        <ul>
                            <li><b>Transformation presets:</b> A list of available attractors which, upon selection, load the appropriate parameters</li>
                            <li><b>Color Presets:</b> Self-explanatory</li>
                            <li><b>Parsing Type:</b> See Transformations below.</li>
                            <li><b>Iterations:</b> The number of iterations to plot (Note: since datashading is used, this does not directly correspond to the number of visible points)</li>
                            <li><b>Transformations:</b> A text area in which the user can specify the possible choices of parameters for the IFS. Every line needs to correspond to one specific transformation choice. The input should follow general CSV file for- matting. Every parameter within a specific transformation choice must be separated by a comma, and every transformation must be separated by a linebreak. In the above example, one of the following two transfor- mations can be chosen at every iteration (with the parameters truncated to two decimal places): \(f_1(x,y) = (0.82\;x + 0.28\;y − 0.21, 0.86\;x − 1.88\;y − 0.11)\) and \(f_2(x, y) = (0.088\;x + 0.52\;y − 0.46, −0.377\;x + 0.78\;y + 8.09)\). The Parsing Type section dictates how the comma-separated parameters are ordered for defining the functions. The Parsing Type option is simply a convenience setting to facilitate copy-pasting parameters from other sources, since some sources may list the parameters in a different order.</li>
                            <li><b>Probabilities:</b> The relative probabilistic weights of each transformation/set of parameters. In the above example, there is an \(80\%\) chance that \(f_1\) will be chosen, and a \(20\%\) chance that \(f_2\) will be chosen. If the user has supplied n transformations (i.e., there are \(n\) lines in the Transformations input), then n comma-separated values must be entered in the Probabilities section.</li>
                        </ul>

                        <p>If the <i>Random Chaos Finder</i> tab is selected, the following options are visible when the Parameters dropdown section is activated:</p>

                        <div class="fractal_images">
                            <div class="fractal_img_wrap">
                                <img class="fractal_img" src="./assets/parameters_3.png"" alt="">
                                <p class="fractal_img_txt">Default Random Chaos Finder tab parameters</p>
                            </div>
                        </div>

                        <ul>
                            <li><b>Chaotic Map Order:</b>Wether quadratic or cubic chaotic maps are generated</li>
                            <li><b>Plot Iterations:</b> The number of iterations in thousands to plot (with datashading)</li>
                            <li><b>Discard the first \(n\) points when testing:</b> The number of transients, <i>i.e.</i> the number of iterations after which the algorithm should assume the state is within the attractor.</li>
                            <li><b>Map iterations:</b> The number of test iterations, i.e. the number of iterations the algorithm should use to numerically approximate the lyapunov exponents. In the above example, the lyapunov exponents are calculated over 70,000 iterations. After 70,000 iterations, the program checks wether the largest lyapunov exponent is positive. If it is, the fractal is then plotted with \(n\) iterations, where \(n =\) Plot Iterations. Otherwise, the algorithm is repeated until a satisfactory system is found.</li>
                            <li><b>Randomization type:</b> Either Continuous or Discrete mode can be selected. If Continous is selected, the random param- eters generated can take any real-valued number within the \([−1.2, 1.2]\) range. If Discrete mode is selected, the random parameters can take value in the \(\{−1.2, −1.1, …, 0, 0.1, …, 1.1, 1.2\;\}\) set. When Find next chaotic map is clicked, the algorithm will run. When a chaotic map is found, it will be drawn and displayed with datashading. In addition, the generated parameters are displayed above the drawn attractor. In Continous mode, the parameters rounded to 4 decimal digits are displayed. In Discrete mode, the parameters are represented as a a string of characters, where \(A\) corresponds to \(-1.2\), \(B\) corresponds to \(-1.1\), and so on.</li>
                        </ul>


                    </div>
                </div>
            </div>
        </div>
    
    </body>
</html>
        
